!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):((e="undefined"!=typeof globalThis?globalThis:e||self).h=e.h||{},e.h.storage=n())}(this,(function(){"use strict";function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o="undefined"!=typeof window?window:global||{},r="$@",a={number:{save:function(e){return e},parse:function(e){return Number.parseFloat(e)}},object:{save:function(e){return JSON.stringify(e)},parse:function(e){return JSON.parse(e)}},undefined:{save:function(e){return e},parse:function(){}},default:{save:function(e){return e},parse:function(e){return e}}};function i(e){return a[e]||a.default}var s=function(){function t(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var a,s,u;return a=t,s=[{key:"get",value:function(e){var n=t.storage.getItem(t.options.namespace+e);if(n){var o=n.split(r),a=Date.now();if(o.length>2&&o[2]<a)return this.remove(e),null;var s=decodeURIComponent(o[1]);return i(o[0]).parse(s)}return null}},{key:"set",value:function(n,o,a){if((a=Object.assign({expires:0,encode:!0},a)).expires&&"number"!=typeof a.expires)throw new Error("The Expires setting must be a number");var s=e(o),u=i(s),f=a.encode?encodeURIComponent(u.save(o)):u.save(o);if(a.expires<=0)o=s+r+f;else{var c=24*a.expires*60*60*1e3+(new Date).getTime();o=s+r+f+r+c}t.storage.setItem(t.options.namespace+n,o)}},{key:"clear",value:function(){t.storage.clear()}},{key:"remove",value:function(e){t.storage.removeItem(t.options.namespace+e)}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.options=Object.assign(t.options,e),t.storage="session"===t.options.storage?o.sessionStorage:o.localStorage}}],s&&n(a.prototype,s),u&&n(a,u),t}();t(s,"storage",o.localStorage),t(s,"options",{namespace:"",storage:"local"});var u=new s;return o.hStorage=u,u}));
